<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¤– AI Language Learning Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(90deg, #2c3e50, #3498db, #2c3e50);
            color: white;
            text-align: center;
            padding: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(45deg, #fff, #f0f0f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .language-selector {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 2rem auto;
            max-width: 800px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .language-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .language-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }

        .language-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            border-color: #fff;
        }

        .language-card.active {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            border-color: #fff;
            box-shadow: 0 10px 25px rgba(39, 174, 96, 0.3);
        }

        .language-card h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .language-card .flag {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .progress-section {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .progress-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .progress-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 12px;
            padding: 1.5rem;
            border-left: 4px solid #3498db;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            transition: width 0.3s ease;
        }

        .content-section {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .lesson-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .lesson-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .lesson-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .lesson-card.completed {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }

        .lesson-card.locked {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            cursor: not-allowed;
        }

        .lesson-card h3 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
        }

        .lesson-card p {
            opacity: 0.9;
            margin-bottom: 1rem;
        }

        .lesson-status {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
        }

        .quiz-section {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            display: block !important; /* Force display for debugging */
        }

        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .question {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .options {
            display: grid;
            gap: 1rem;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .option:hover {
            border-color: #3498db;
            background: #e3f2fd;
        }

        .option.selected {
            border-color: #3498db;
            background: #e3f2fd;
        }

        .option.correct {
            border-color: #27ae60;
            background: #d4edda;
        }

        .option.incorrect {
            border-color: #e74c3c;
            background: #f8d7da;
        }

        .btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0.5rem;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            transform: none;
        }

        .vocabulary-section {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .vocab-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .vocab-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 12px;
            padding: 1.5rem;
            border-left: 4px solid #3498db;
            transition: all 0.3s ease;
        }

        .vocab-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .vocab-term {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .vocab-translation {
            color: #7f8c8d;
            font-style: italic;
            margin-bottom: 0.5rem;
        }

        .vocab-definition {
            color: #34495e;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }

        .vocab-example {
            color: #27ae60;
            font-size: 0.85rem;
            font-style: italic;
            background: rgba(39, 174, 96, 0.1);
            padding: 0.5rem;
            border-radius: 6px;
            margin-top: 0.5rem;
        }

        .stats-section {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .stat-card {
            text-align: center;
            padding: 1.5rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 12px;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 1rem;
            opacity: 0.9;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #000;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .language-grid {
                grid-template-columns: 1fr;
            }
            
            .lesson-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¤– AI Language Learning Platform</h1>
        <p>Learn AI concepts while mastering multiple languages</p>
    </div>

    <div class="main-container">
        <!-- Language Selector -->
        <div class="language-selector">
            <h2>ğŸŒ Choose Your Learning Language</h2>
            <div class="language-grid">
                <div class="language-card" onclick="selectLanguage('en')">
                    <div class="flag">ğŸ‡ºğŸ‡¸</div>
                    <h3>English</h3>
                    <p>Learn AI in English</p>
                </div>
                <div class="language-card" onclick="selectLanguage('ko')">
                    <div class="flag">ğŸ‡°ğŸ‡·</div>
                    <h3>í•œêµ­ì–´</h3>
                    <p>AIë¥¼ í•œêµ­ì–´ë¡œ í•™ìŠµ</p>
                </div>
                <div class="language-card" onclick="selectLanguage('zh')">
                    <div class="flag">ğŸ‡¨ğŸ‡³</div>
                    <h3>ä¸­æ–‡</h3>
                    <p>ç”¨ä¸­æ–‡å­¦ä¹ AI</p>
                </div>
                <div class="language-card" onclick="selectLanguage('ja')">
                    <div class="flag">ğŸ‡¯ğŸ‡µ</div>
                    <h3>æ—¥æœ¬èª</h3>
                    <p>AIã‚’æ—¥æœ¬èªã§å­¦ç¿’</p>
                </div>
            </div>
        </div>

        <!-- Progress Section -->
        <div class="progress-section" id="progressSection" style="display: none;">
            <h2>ğŸ“Š Your Learning Progress</h2>
            <div class="progress-grid">
                <div class="progress-card">
                    <h3>AI Concepts</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="aiProgress" style="width: 0%"></div>
                    </div>
                    <p id="aiProgressText">0% Complete</p>
                </div>
                <div class="progress-card">
                    <h3>Language Skills</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="langProgress" style="width: 0%"></div>
                    </div>
                    <p id="langProgressText">0% Complete</p>
                </div>
                <div class="progress-card">
                    <h3>Quiz Score</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="quizProgress" style="width: 0%"></div>
                    </div>
                    <p id="quizProgressText">0% Average</p>
                </div>
            </div>
        </div>

        <!-- Content Section -->
        <div class="content-section" id="contentSection" style="display: none;">
            <h2>ğŸ“š AI Learning Modules</h2>
            <div class="lesson-grid" id="lessonGrid">
                <!-- Lessons will be populated by JavaScript -->
            </div>
        </div>

        <!-- Quiz Section -->
        <div class="quiz-section" id="quizSection" style="display: block;">
            <h2>ğŸ§  Knowledge Check</h2>
            <div class="quiz-container" id="quizContainer">
                <p style="text-align: center; color: #7f8c8d;">ì–¸ì–´ë¥¼ ì„ íƒí•˜ë©´ í€´ì¦ˆê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>
            </div>
        </div>

        <!-- Vocabulary Section -->
        <div class="vocabulary-section" id="vocabularySection" style="display: none;">
            <h2>ğŸ“– AI Vocabulary</h2>
            <div class="vocab-grid" id="vocabGrid">
                <!-- Vocabulary will be populated by JavaScript -->
            </div>
        </div>

        <!-- Statistics Section -->
        <div class="stats-section" id="statsSection" style="display: none;">
            <h2>ğŸ“ˆ Learning Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="lessonsCompleted">0</div>
                    <div class="stat-label">Lessons Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="wordsLearned">0</div>
                    <div class="stat-label">Words Learned</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="quizScore">0%</div>
                    <div class="stat-label">Average Quiz Score</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="studyTime">0h</div>
                    <div class="stat-label">Study Time</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lesson Modal -->
    <div id="lessonModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeLessonModal()">&times;</span>
            <div id="lessonContent"></div>
        </div>
    </div>

    <script>
        // Global variables
        let currentLanguage = 'en';
        let userProgress = {
            lessonsCompleted: 0,
            wordsLearned: 0,
            quizScores: [],
            studyTime: 0,
            completedLessons: []
        };

        // Load content from admin panel
        function loadAdminContent() {
            const adminLessons = JSON.parse(localStorage.getItem('adminLessons') || '[]');
            const adminVocabulary = JSON.parse(localStorage.getItem('adminVocabulary') || '[]');
            const adminQuizzes = JSON.parse(localStorage.getItem('adminQuizzes') || '[]');
            
            console.log('Raw admin data:', { adminLessons, adminVocabulary, adminQuizzes });
            
            // Get admin content for current language
            const adminLessonsForLang = adminLessons.filter(lesson => lesson.language === currentLanguage);
            const adminVocabularyForLang = adminVocabulary.filter(vocab => vocab.language === currentLanguage);
            const adminQuizzesForLang = adminQuizzes.filter(quiz => quiz.language === currentLanguage);
            
            console.log(`Filtered admin content for ${currentLanguage}:`, {
                lessons: adminLessonsForLang,
                vocabulary: adminVocabularyForLang,
                quizzes: adminQuizzesForLang
            });
            
            // Merge admin lessons with default lessons (don't overwrite, append)
            if (adminLessonsForLang.length > 0) {
                // Create a map of existing lesson IDs to avoid duplicates
                const existingLessonIds = new Set(content[currentLanguage].lessons.map(lesson => lesson.id));
                
                adminLessonsForLang.forEach(adminLesson => {
                    if (!existingLessonIds.has(adminLesson.id)) {
                        content[currentLanguage].lessons.push(adminLesson);
                    }
                });
            }
            
            // Add admin vocabulary to lessons
            adminVocabularyForLang.forEach(vocab => {
                // Find the lesson this vocabulary belongs to
                const lesson = content[currentLanguage].lessons.find(l => l.id === vocab.lessonId);
                if (lesson) {
                    if (!lesson.vocabulary) lesson.vocabulary = [];
                    lesson.vocabulary.push(vocab);
                }
            });
            
            // IMPORTANT: Replace quizzes with admin quizzes if they exist
            if (adminQuizzesForLang.length > 0) {
                console.log(`Replacing quizzes with ${adminQuizzesForLang.length} admin quizzes for ${currentLanguage}`);
                content[currentLanguage].quizzes = adminQuizzesForLang;
            } else {
                console.log(`No admin quizzes found for ${currentLanguage}, keeping default quizzes`);
            }
            
            console.log(`Final content for ${currentLanguage}:`, {
                lessons: content[currentLanguage].lessons.length,
                quizzes: content[currentLanguage].quizzes.length,
                quizDetails: content[currentLanguage].quizzes
            });
        }

        // Language-specific content
        const content = {
            en: {
                lessons: [
                    {
                        id: 1,
                        title: "What is Artificial Intelligence?",
                        description: "Learn the basics of AI and its applications",
                        content: `
                            <h2>What is Artificial Intelligence?</h2>
                            <p>Artificial Intelligence (AI) is a branch of computer science that aims to create machines capable of performing tasks that typically require human intelligence.</p>
                            
                            <h3>Key Concepts:</h3>
                            <ul>
                                <li><strong>Machine Learning:</strong> A subset of AI that enables computers to learn without being explicitly programmed</li>
                                <li><strong>Deep Learning:</strong> A type of machine learning based on artificial neural networks</li>
                                <li><strong>Natural Language Processing:</strong> The ability of computers to understand and process human language</li>
                                <li><strong>Computer Vision:</strong> The field of AI that enables computers to interpret visual information</li>
                            </ul>
                            
                            <h3>Applications:</h3>
                            <ul>
                                <li>Virtual assistants (Siri, Alexa)</li>
                                <li>Recommendation systems (Netflix, Amazon)</li>
                                <li>Autonomous vehicles</li>
                                <li>Medical diagnosis</li>
                                <li>Financial trading</li>
                            </ul>
                        `,
                        vocabulary: [
                            { term: "Artificial Intelligence", translation: "ì¸ê³µì§€ëŠ¥ / äººå·¥æ™ºèƒ½ / äººå·¥çŸ¥èƒ½" },
                            { term: "Machine Learning", translation: "ê¸°ê³„í•™ìŠµ / æœºå™¨å­¦ä¹  / æ©Ÿæ¢°å­¦ç¿’" },
                            { term: "Neural Network", translation: "ì‹ ê²½ë§ / ç¥ç»ç½‘ç»œ / ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯" },
                            { term: "Algorithm", translation: "ì•Œê³ ë¦¬ì¦˜ / ç®—æ³• / ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ " }
                        ]
                    },
                    {
                        id: 2,
                        title: "Machine Learning Fundamentals",
                        description: "Understanding how machines learn from data",
                        content: `
                            <h2>Machine Learning Fundamentals</h2>
                            <p>Machine Learning is a method of data analysis that automates analytical model building. It is based on the idea that systems can learn from data, identify patterns, and make decisions with minimal human intervention.</p>
                            
                            <h3>Types of Machine Learning:</h3>
                            <ul>
                                <li><strong>Supervised Learning:</strong> Learning from labeled training data</li>
                                <li><strong>Unsupervised Learning:</strong> Finding hidden patterns in unlabeled data</li>
                                <li><strong>Reinforcement Learning:</strong> Learning through interaction with an environment</li>
                            </ul>
                            
                            <h3>Common Algorithms:</h3>
                            <ul>
                                <li>Linear Regression</li>
                                <li>Decision Trees</li>
                                <li>Random Forest</li>
                                <li>Support Vector Machines</li>
                                <li>K-Means Clustering</li>
                            </ul>
                        `,
                        vocabulary: [
                            { term: "Supervised Learning", translation: "ì§€ë„í•™ìŠµ / ç›‘ç£å­¦ä¹  / æ•™å¸«ã‚ã‚Šå­¦ç¿’" },
                            { term: "Unsupervised Learning", translation: "ë¹„ì§€ë„í•™ìŠµ / æ— ç›‘ç£å­¦ä¹  / æ•™å¸«ãªã—å­¦ç¿’" },
                            { term: "Training Data", translation: "í›ˆë ¨ ë°ì´í„° / è®­ç»ƒæ•°æ® / è¨“ç·´ãƒ‡ãƒ¼ã‚¿" },
                            { term: "Model", translation: "ëª¨ë¸ / æ¨¡å‹ / ãƒ¢ãƒ‡ãƒ«" }
                        ]
                    },
                    {
                        id: 3,
                        title: "Deep Learning and Neural Networks",
                        description: "Exploring the power of deep neural networks",
                        content: `
                            <h2>Deep Learning and Neural Networks</h2>
                            <p>Deep Learning is a subset of machine learning that uses artificial neural networks with multiple layers to model and understand complex patterns in data.</p>
                            
                            <h3>Neural Network Architecture:</h3>
                            <ul>
                                <li><strong>Input Layer:</strong> Receives the initial data</li>
                                <li><strong>Hidden Layers:</strong> Process the data through multiple transformations</li>
                                <li><strong>Output Layer:</strong> Produces the final result</li>
                            </ul>
                            
                            <h3>Popular Deep Learning Frameworks:</h3>
                            <ul>
                                <li>TensorFlow (Google)</li>
                                <li>PyTorch (Facebook)</li>
                                <li>Keras (High-level API)</li>
                                <li>Scikit-learn (Traditional ML)</li>
                            </ul>
                            
                            <h3>Applications:</h3>
                            <ul>
                                <li>Image Recognition</li>
                                <li>Speech Recognition</li>
                                <li>Natural Language Processing</li>
                                <li>Autonomous Driving</li>
                            </ul>
                        `,
                        vocabulary: [
                            { term: "Deep Learning", translation: "ë”¥ëŸ¬ë‹ / æ·±åº¦å­¦ä¹  / ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°" },
                            { term: "Neural Network", translation: "ì‹ ê²½ë§ / ç¥ç»ç½‘ç»œ / ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯" },
                            { term: "Layer", translation: "ì¸µ / å±‚ / ãƒ¬ã‚¤ãƒ¤ãƒ¼" },
                            { term: "Activation Function", translation: "í™œì„±í™” í•¨ìˆ˜ / æ¿€æ´»å‡½æ•° / æ´»æ€§åŒ–é–¢æ•°" }
                        ]
                    }
                ],
                quizzes: [
                    {
                        question: "What is the main goal of Artificial Intelligence?",
                        options: [
                            "To replace all human workers",
                            "To create machines that can perform tasks requiring human intelligence",
                            "To make computers faster",
                            "To reduce electricity consumption"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which type of machine learning uses labeled training data?",
                        options: [
                            "Unsupervised Learning",
                            "Supervised Learning",
                            "Reinforcement Learning",
                            "Deep Learning"
                        ],
                        correct: 1
                    },
                    {
                        question: "What is the primary advantage of deep learning?",
                        options: [
                            "It requires less data",
                            "It can automatically learn features from raw data",
                            "It's faster than traditional machine learning",
                            "It doesn't need a computer"
                        ],
                        correct: 1
                    }
                ]
            },
            ko: {
                lessons: [
                    {
                        id: 1,
                        title: "ì¸ê³µì§€ëŠ¥ì´ë€ ë¬´ì—‡ì¸ê°€?",
                        description: "AIì˜ ê¸°ë³¸ ê°œë…ê³¼ ì‘ìš© ë¶„ì•¼ë¥¼ í•™ìŠµí•©ë‹ˆë‹¤",
                        content: `
                            <h2>ì¸ê³µì§€ëŠ¥ì´ë€ ë¬´ì—‡ì¸ê°€?</h2>
                            <p>ì¸ê³µì§€ëŠ¥(AI)ì€ ì¸ê°„ì˜ ì§€ëŠ¥ì´ í•„ìš”í•œ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ê¸°ê³„ë¥¼ ë§Œë“¤ë ¤ëŠ” ì»´í“¨í„° ê³¼í•™ì˜ í•œ ë¶„ì•¼ì…ë‹ˆë‹¤.</p>
                            
                            <h3>í•µì‹¬ ê°œë…:</h3>
                            <ul>
                                <li><strong>ë¨¸ì‹ ëŸ¬ë‹:</strong> ì»´í“¨í„°ê°€ ëª…ì‹œì ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë°ë˜ì§€ ì•Šê³ ë„ í•™ìŠµí•  ìˆ˜ ìˆê²Œ í•˜ëŠ” AIì˜ í•˜ìœ„ ë¶„ì•¼</li>
                                <li><strong>ë”¥ëŸ¬ë‹:</strong> ì¸ê³µ ì‹ ê²½ë§ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ë¨¸ì‹ ëŸ¬ë‹ì˜ í•œ ìœ í˜•</li>
                                <li><strong>ìì—°ì–´ ì²˜ë¦¬:</strong> ì»´í“¨í„°ê°€ ì¸ê°„ì˜ ì–¸ì–´ë¥¼ ì´í•´í•˜ê³  ì²˜ë¦¬í•˜ëŠ” ëŠ¥ë ¥</li>
                                <li><strong>ì»´í“¨í„° ë¹„ì „:</strong> ì»´í“¨í„°ê°€ ì‹œê°ì  ì •ë³´ë¥¼ í•´ì„í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” AI ë¶„ì•¼</li>
                            </ul>
                            
                            <h3>ì‘ìš© ë¶„ì•¼:</h3>
                            <ul>
                                <li>ê°€ìƒ ë¹„ì„œ (ì‹œë¦¬, ì•Œë ‰ì‚¬)</li>
                                <li>ì¶”ì²œ ì‹œìŠ¤í…œ (ë„·í”Œë¦­ìŠ¤, ì•„ë§ˆì¡´)</li>
                                <li>ììœ¨ì£¼í–‰ì°¨</li>
                                <li>ì˜ë£Œ ì§„ë‹¨</li>
                                <li>ê¸ˆìœµ ê±°ë˜</li>
                            </ul>
                        `,
                        vocabulary: [
                            { term: "ì¸ê³µì§€ëŠ¥", translation: "Artificial Intelligence / äººå·¥æ™ºèƒ½ / äººå·¥çŸ¥èƒ½" },
                            { term: "ë¨¸ì‹ ëŸ¬ë‹", translation: "Machine Learning / æœºå™¨å­¦ä¹  / æ©Ÿæ¢°å­¦ç¿’" },
                            { term: "ì‹ ê²½ë§", translation: "Neural Network / ç¥ç»ç½‘ç»œ / ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯" },
                            { term: "ì•Œê³ ë¦¬ì¦˜", translation: "Algorithm / ç®—æ³• / ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ " }
                        ]
                    },
                    {
                        id: 2,
                        title: "ë¨¸ì‹ ëŸ¬ë‹ ê¸°ì´ˆ",
                        description: "ê¸°ê³„ê°€ ë°ì´í„°ë¡œë¶€í„° ì–´ë–»ê²Œ í•™ìŠµí•˜ëŠ”ì§€ ì´í•´í•˜ê¸°",
                        content: `
                            <h2>ë¨¸ì‹ ëŸ¬ë‹ ê¸°ì´ˆ</h2>
                            <p>ë¨¸ì‹ ëŸ¬ë‹ì€ ë¶„ì„ì  ëª¨ë¸ êµ¬ì¶•ì„ ìë™í™”í•˜ëŠ” ë°ì´í„° ë¶„ì„ ë°©ë²•ì…ë‹ˆë‹¤. ì‹œìŠ¤í…œì´ ë°ì´í„°ë¡œë¶€í„° í•™ìŠµí•˜ê³ , íŒ¨í„´ì„ ì‹ë³„í•˜ë©°, ìµœì†Œí•œì˜ ì¸ê°„ ê°œì…ìœ¼ë¡œ ê²°ì •ì„ ë‚´ë¦´ ìˆ˜ ìˆë‹¤ëŠ” ì•„ì´ë””ì–´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>
                            
                            <h3>ë¨¸ì‹ ëŸ¬ë‹ì˜ ìœ í˜•:</h3>
                            <ul>
                                <li><strong>ì§€ë„í•™ìŠµ:</strong> ë¼ë²¨ì´ ìˆëŠ” í›ˆë ¨ ë°ì´í„°ë¡œë¶€í„° í•™ìŠµ</li>
                                <li><strong>ë¹„ì§€ë„í•™ìŠµ:</strong> ë¼ë²¨ì´ ì—†ëŠ” ë°ì´í„°ì—ì„œ ìˆ¨ê²¨ì§„ íŒ¨í„´ ì°¾ê¸°</li>
                                <li><strong>ê°•í™”í•™ìŠµ:</strong> í™˜ê²½ê³¼ì˜ ìƒí˜¸ì‘ìš©ì„ í†µí•œ í•™ìŠµ</li>
                            </ul>
                            
                            <h3>ì¼ë°˜ì ì¸ ì•Œê³ ë¦¬ì¦˜:</h3>
                            <ul>
                                <li>ì„ í˜• íšŒê·€</li>
                                <li>ê²°ì • íŠ¸ë¦¬</li>
                                <li>ëœë¤ í¬ë ˆìŠ¤íŠ¸</li>
                                <li>ì„œí¬íŠ¸ ë²¡í„° ë¨¸ì‹ </li>
                                <li>K-í‰ê·  í´ëŸ¬ìŠ¤í„°ë§</li>
                            </ul>
                        `,
                        vocabulary: [
                            { term: "ì§€ë„í•™ìŠµ", translation: "Supervised Learning / ç›‘ç£å­¦ä¹  / æ•™å¸«ã‚ã‚Šå­¦ç¿’" },
                            { term: "ë¹„ì§€ë„í•™ìŠµ", translation: "Unsupervised Learning / æ— ç›‘ç£å­¦ä¹  / æ•™å¸«ãªã—å­¦ç¿’" },
                            { term: "í›ˆë ¨ ë°ì´í„°", translation: "Training Data / è®­ç»ƒæ•°æ® / è¨“ç·´ãƒ‡ãƒ¼ã‚¿" },
                            { term: "ëª¨ë¸", translation: "Model / æ¨¡å‹ / ãƒ¢ãƒ‡ãƒ«" }
                        ]
                    }
                ],
                quizzes: [
                    {
                        question: "ì¸ê³µì§€ëŠ¥ì˜ ì£¼ìš” ëª©í‘œëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
                        options: [
                            "ëª¨ë“  ì¸ê°„ ë…¸ë™ìë¥¼ ëŒ€ì²´í•˜ëŠ” ê²ƒ",
                            "ì¸ê°„ì˜ ì§€ëŠ¥ì´ í•„ìš”í•œ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ê¸°ê³„ë¥¼ ë§Œë“œëŠ” ê²ƒ",
                            "ì»´í“¨í„°ë¥¼ ë” ë¹ ë¥´ê²Œ ë§Œë“œëŠ” ê²ƒ",
                            "ì „ê¸° ì†Œë¹„ë¥¼ ì¤„ì´ëŠ” ê²ƒ"
                        ],
                        correct: 1
                    },
                    {
                        question: "ì–´ë–¤ ìœ í˜•ì˜ ë¨¸ì‹ ëŸ¬ë‹ì´ ë¼ë²¨ì´ ìˆëŠ” í›ˆë ¨ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ë‚˜ìš”?",
                        options: [
                            "ë¹„ì§€ë„í•™ìŠµ",
                            "ì§€ë„í•™ìŠµ",
                            "ê°•í™”í•™ìŠµ",
                            "ë”¥ëŸ¬ë‹"
                        ],
                        correct: 1
                    }
                ]
            },
            zh: {
                lessons: [
                    {
                        id: 1,
                        title: "ä»€ä¹ˆæ˜¯äººå·¥æ™ºèƒ½ï¼Ÿ",
                        description: "å­¦ä¹ AIçš„åŸºæœ¬æ¦‚å¿µå’Œåº”ç”¨é¢†åŸŸ",
                        content: `
                            <h2>ä»€ä¹ˆæ˜¯äººå·¥æ™ºèƒ½ï¼Ÿ</h2>
                            <p>äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰æ˜¯è®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œæ—¨åœ¨åˆ›å»ºèƒ½å¤Ÿæ‰§è¡Œé€šå¸¸éœ€è¦äººç±»æ™ºèƒ½çš„ä»»åŠ¡çš„æœºå™¨ã€‚</p>
                            
                            <h3>æ ¸å¿ƒæ¦‚å¿µï¼š</h3>
                            <ul>
                                <li><strong>æœºå™¨å­¦ä¹ ï¼š</strong>AIçš„ä¸€ä¸ªå­é›†ï¼Œä½¿è®¡ç®—æœºèƒ½å¤Ÿåœ¨æ²¡æœ‰æ˜ç¡®ç¼–ç¨‹çš„æƒ…å†µä¸‹å­¦ä¹ </li>
                                <li><strong>æ·±åº¦å­¦ä¹ ï¼š</strong>åŸºäºäººå·¥ç¥ç»ç½‘ç»œçš„æœºå™¨å­¦ä¹ ç±»å‹</li>
                                <li><strong>è‡ªç„¶è¯­è¨€å¤„ç†ï¼š</strong>è®¡ç®—æœºç†è§£å’Œå¤„ç†äººç±»è¯­è¨€çš„èƒ½åŠ›</li>
                                <li><strong>è®¡ç®—æœºè§†è§‰ï¼š</strong>ä½¿è®¡ç®—æœºèƒ½å¤Ÿè§£é‡Šè§†è§‰ä¿¡æ¯çš„AIé¢†åŸŸ</li>
                            </ul>
                            
                            <h3>åº”ç”¨é¢†åŸŸï¼š</h3>
                            <ul>
                                <li>è™šæ‹ŸåŠ©æ‰‹ï¼ˆSiriã€Alexaï¼‰</li>
                                <li>æ¨èç³»ç»Ÿï¼ˆNetflixã€Amazonï¼‰</li>
                                <li>è‡ªåŠ¨é©¾é©¶æ±½è½¦</li>
                                <li>åŒ»ç–—è¯Šæ–­</li>
                                <li>é‡‘èäº¤æ˜“</li>
                            </ul>
                        `,
                        vocabulary: [
                            { term: "äººå·¥æ™ºèƒ½", translation: "Artificial Intelligence / ì¸ê³µì§€ëŠ¥ / äººå·¥çŸ¥èƒ½" },
                            { term: "æœºå™¨å­¦ä¹ ", translation: "Machine Learning / ë¨¸ì‹ ëŸ¬ë‹ / æ©Ÿæ¢°å­¦ç¿’" },
                            { term: "ç¥ç»ç½‘ç»œ", translation: "Neural Network / ì‹ ê²½ë§ / ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯" },
                            { term: "ç®—æ³•", translation: "Algorithm / ì•Œê³ ë¦¬ì¦˜ / ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ " }
                        ]
                    }
                ],
                quizzes: [
                    {
                        question: "äººå·¥æ™ºèƒ½çš„ä¸»è¦ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ",
                        options: [
                            "å–ä»£æ‰€æœ‰äººç±»å·¥äºº",
                            "åˆ›é€ èƒ½å¤Ÿæ‰§è¡Œéœ€è¦äººç±»æ™ºèƒ½çš„ä»»åŠ¡çš„æœºå™¨",
                            "è®©è®¡ç®—æœºæ›´å¿«",
                            "å‡å°‘ç”µåŠ›æ¶ˆè€—"
                        ],
                        correct: 1
                    }
                ]
            },
            ja: {
                lessons: [
                    {
                        id: 1,
                        title: "äººå·¥çŸ¥èƒ½ã¨ã¯ä½•ã‹ï¼Ÿ",
                        description: "AIã®åŸºæœ¬æ¦‚å¿µã¨å¿œç”¨åˆ†é‡ã‚’å­¦ç¿’",
                        content: `
                            <h2>äººå·¥çŸ¥èƒ½ã¨ã¯ä½•ã‹ï¼Ÿ</h2>
                            <p>äººå·¥çŸ¥èƒ½ï¼ˆAIï¼‰ã¯ã€é€šå¸¸äººé–“ã®çŸ¥èƒ½ã‚’å¿…è¦ã¨ã™ã‚‹ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã§ãã‚‹æ©Ÿæ¢°ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ãŸã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã®ä¸€åˆ†é‡ã§ã™ã€‚</p>
                            
                            <h3>æ ¸å¿ƒæ¦‚å¿µï¼š</h3>
                            <ul>
                                <li><strong>æ©Ÿæ¢°å­¦ç¿’ï¼š</strong>ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãŒæ˜ç¤ºçš„ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã•ã‚Œãªãã¦ã‚‚å­¦ç¿’ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹AIã®ã‚µãƒ–ã‚»ãƒƒãƒˆ</li>
                                <li><strong>ãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ï¼š</strong>äººå·¥ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«åŸºã¥ãæ©Ÿæ¢°å­¦ç¿’ã®ã‚¿ã‚¤ãƒ—</li>
                                <li><strong>è‡ªç„¶è¨€èªå‡¦ç†ï¼š</strong>ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãŒäººé–“ã®è¨€èªã‚’ç†è§£ã—å‡¦ç†ã™ã‚‹èƒ½åŠ›</li>
                                <li><strong>ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ“ã‚¸ãƒ§ãƒ³ï¼š</strong>ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãŒè¦–è¦šæƒ…å ±ã‚’è§£é‡ˆã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹AIåˆ†é‡</li>
                            </ul>
                            
                            <h3>å¿œç”¨åˆ†é‡ï¼š</h3>
                            <ul>
                                <li>ä»®æƒ³ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆï¼ˆSiriã€Alexaï¼‰</li>
                                <li>æ¨è–¦ã‚·ã‚¹ãƒ†ãƒ ï¼ˆNetflixã€Amazonï¼‰</li>
                                <li>è‡ªå‹•é‹è»¢è»Š</li>
                                <li>åŒ»ç™‚è¨ºæ–­</li>
                                <li>é‡‘èå–å¼•</li>
                            </ul>
                        `,
                        vocabulary: [
                            { term: "äººå·¥çŸ¥èƒ½", translation: "Artificial Intelligence / ì¸ê³µì§€ëŠ¥ / äººå·¥æ™ºèƒ½" },
                            { term: "æ©Ÿæ¢°å­¦ç¿’", translation: "Machine Learning / ë¨¸ì‹ ëŸ¬ë‹ / æœºå™¨å­¦ä¹ " },
                            { term: "ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯", translation: "Neural Network / ì‹ ê²½ë§ / ç¥ç»ç½‘ç»œ" },
                            { term: "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ", translation: "Algorithm / ì•Œê³ ë¦¬ì¦˜ / ç®—æ³•" }
                        ]
                    }
                ],
                quizzes: [
                    {
                        question: "äººå·¥çŸ¥èƒ½ã®ä¸»ãªç›®æ¨™ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "ã™ã¹ã¦ã®äººé–“åŠ´åƒè€…ã‚’ç½®ãæ›ãˆã‚‹ã“ã¨",
                            "äººé–“ã®çŸ¥èƒ½ã‚’å¿…è¦ã¨ã™ã‚‹ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã§ãã‚‹æ©Ÿæ¢°ã‚’ä½œæˆã™ã‚‹ã“ã¨",
                            "ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚’ã‚ˆã‚Šé€Ÿãã™ã‚‹ã“ã¨",
                            "é›»åŠ›æ¶ˆè²»ã‚’æ¸›ã‚‰ã™ã“ã¨"
                        ],
                        correct: 1
                    }
                ]
            }
        };

        // Language selection
        function selectLanguage(lang) {
            currentLanguage = lang;
            console.log(`Selected language: ${currentLanguage}`);
            
            // Update active language card
            document.querySelectorAll('.language-card').forEach(card => {
                card.classList.remove('active');
            });
            event.target.closest('.language-card').classList.add('active');
            
            // Load admin content for selected language
            loadAdminContent();
            
            // Show content sections
            document.getElementById('progressSection').style.display = 'block';
            document.getElementById('contentSection').style.display = 'block';
            document.getElementById('quizSection').style.display = 'block';
            document.getElementById('vocabularySection').style.display = 'block';
            document.getElementById('statsSection').style.display = 'block';
            
            // Debug: Check if quiz section is visible
            const quizSection = document.getElementById('quizSection');
            console.log('Quiz section display style:', quizSection.style.display);
            console.log('Quiz section element:', quizSection);
            
            // Load content
            loadLessons();
            loadVocabulary();
            loadQuizzes();
            updateProgress();
            updateStats();
            
            console.log(`Content loaded for ${currentLanguage}:`, {
                lessons: content[currentLanguage].lessons.length,
                quizzes: content[currentLanguage].quizzes.length
            });
        }

        // Load lessons
        function loadLessons() {
            const lessonGrid = document.getElementById('lessonGrid');
            lessonGrid.innerHTML = '';
            
            const lessons = content[currentLanguage].lessons;
            
            lessons.forEach((lesson, index) => {
                const isCompleted = userProgress.completedLessons.includes(lesson.id);
                const isLocked = index > 0 && !userProgress.completedLessons.includes(lessons[index - 1].id);
                
                const lessonCard = document.createElement('div');
                lessonCard.className = `lesson-card ${isCompleted ? 'completed' : ''} ${isLocked ? 'locked' : ''}`;
                lessonCard.onclick = isLocked ? null : () => openLesson(lesson);
                
                lessonCard.innerHTML = `
                    <div class="lesson-status">
                        ${isCompleted ? 'âœ…' : isLocked ? 'ğŸ”’' : 'ğŸ“–'}
                    </div>
                    <h3>${lesson.title}</h3>
                    <p>${lesson.description}</p>
                `;
                
                lessonGrid.appendChild(lessonCard);
            });
        }

        // Open lesson modal
        function openLesson(lesson) {
            const modal = document.getElementById('lessonModal');
            const content = document.getElementById('lessonContent');
            
            content.innerHTML = lesson.content;
            modal.style.display = 'block';
            
            // Mark as completed
            if (!userProgress.completedLessons.includes(lesson.id)) {
                userProgress.completedLessons.push(lesson.id);
                userProgress.lessonsCompleted++;
                userProgress.wordsLearned += lesson.vocabulary.length;
                userProgress.studyTime += 15; // 15 minutes per lesson
                
                updateProgress();
                updateStats();
                loadLessons();
            }
        }

        // Close lesson modal
        function closeLessonModal() {
            document.getElementById('lessonModal').style.display = 'none';
        }

        // Load vocabulary
        function loadVocabulary() {
            const vocabGrid = document.getElementById('vocabGrid');
            vocabGrid.innerHTML = '';
            
            const lessons = content[currentLanguage].lessons;
            const allVocabulary = [];
            
            // Collect vocabulary from all lessons
            lessons.forEach(lesson => {
                if (lesson.vocabulary && lesson.vocabulary.length > 0) {
                    allVocabulary.push(...lesson.vocabulary);
                }
            });
            
            // Also load standalone vocabulary from admin
            const adminVocabulary = JSON.parse(localStorage.getItem('adminVocabulary') || '[]');
            const adminVocabularyForLang = adminVocabulary.filter(vocab => 
                vocab.language === currentLanguage && !vocab.lessonId
            );
            allVocabulary.push(...adminVocabularyForLang);
            
            if (allVocabulary.length === 0) {
                vocabGrid.innerHTML = '<p style="text-align: center; color: #7f8c8d; grid-column: 1 / -1;">ì•„ì§ ì–´íœ˜ê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ì–´íœ˜ë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.</p>';
                return;
            }
            
            allVocabulary.forEach(vocab => {
                const vocabCard = document.createElement('div');
                vocabCard.className = 'vocab-card';
                vocabCard.innerHTML = `
                    <div class="vocab-term">${vocab.term}</div>
                    <div class="vocab-translation">${vocab.translation}</div>
                    ${vocab.definition ? `<div class="vocab-definition">${vocab.definition}</div>` : ''}
                    ${vocab.example ? `<div class="vocab-example">ì˜ˆë¬¸: ${vocab.example}</div>` : ''}
                `;
                vocabGrid.appendChild(vocabCard);
            });
            
            console.log(`Loaded ${allVocabulary.length} vocabulary items for ${currentLanguage}`);
        }

        // Load quizzes
        function loadQuizzes() {
            const quizContainer = document.getElementById('quizContainer');
            quizContainer.innerHTML = '';
            
            const quizzes = content[currentLanguage].quizzes;
            console.log(`Loading ${quizzes.length} quizzes for ${currentLanguage}:`, quizzes);
            
            if (quizzes.length === 0) {
                quizContainer.innerHTML = '<p style="text-align: center; color: #7f8c8d;">ì•„ì§ í€´ì¦ˆê°€ ì—†ìŠµë‹ˆë‹¤. ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ í€´ì¦ˆë¥¼ ì¶”ê°€í•´ì£¼ì„¸ìš”.</p>';
                console.log('No quizzes found, showing empty message');
                return;
            }
            
            console.log('About to show first quiz:', quizzes[0]);
            
            // Create quiz navigation first
            const quizNav = document.createElement('div');
            quizNav.style.textAlign = 'center';
            quizNav.style.marginTop = '2rem';
            quizNav.id = 'quizNavigation';
            
            quizzes.forEach((quiz, index) => {
                const quizBtn = document.createElement('button');
                quizBtn.className = 'btn';
                quizBtn.textContent = `í€´ì¦ˆ ${index + 1}`;
                quizBtn.onclick = () => {
                    console.log(`Quiz button ${index + 1} clicked`);
                    showQuiz(index);
                    // Update active button
                    document.querySelectorAll('#quizNavigation .btn').forEach(btn => {
                        btn.style.background = 'linear-gradient(135deg, #3498db, #2980b9)';
                    });
                    quizBtn.style.background = 'linear-gradient(135deg, #27ae60, #2ecc71)';
                };
                quizNav.appendChild(quizBtn);
            });
            
            // Add navigation to container
            quizContainer.appendChild(quizNav);
            
            // Show first quiz by default
            showQuiz(0);
            
            // Highlight first button
            if (quizNav.children.length > 0) {
                quizNav.children[0].style.background = 'linear-gradient(135deg, #27ae60, #2ecc71)';
            }
        }

        // Show specific quiz
        function showQuiz(quizIndex) {
            const quizContainer = document.getElementById('quizContainer');
            const quizzes = content[currentLanguage].quizzes;
            
            console.log(`Showing quiz ${quizIndex} of ${quizzes.length} quizzes`);
            
            if (quizIndex >= quizzes.length) {
                console.log('Quiz index out of range');
                return;
            }
            
            const quiz = quizzes[quizIndex];
            console.log('Quiz to show:', quiz);
            
            let quizHTML = `
                <div class="question">
                    <h3>${quiz.question}</h3>
                </div>
                <div class="options">
            `;
            
            quiz.options.forEach((option, index) => {
                quizHTML += `
                    <div class="option" onclick="selectAnswer(${quizIndex}, ${index})">
                        ${option}
                    </div>
                `;
            });
            
            quizHTML += `
                </div>
                <div style="text-align: center; margin-top: 2rem;">
                    <button class="btn" onclick="checkAnswer(${quizIndex})" id="checkBtn" disabled>ì •ë‹µ í™•ì¸</button>
                </div>
                <div id="quizResult" style="margin-top: 1rem; text-align: center;"></div>
            `;
            
            // Save the navigation
            const quizNav = document.getElementById('quizNavigation');
            
            // Clear the container but preserve navigation
            quizContainer.innerHTML = '';
            
            // Add the new quiz content
            quizContainer.innerHTML = quizHTML;
            
            // Restore the navigation
            if (quizNav) {
                quizContainer.appendChild(quizNav);
            }
            
            console.log('Quiz HTML inserted successfully with navigation preserved');
        }

        // Select answer
        function selectAnswer(quizIndex, optionIndex) {
            // Remove previous selection
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Select current option
            event.target.classList.add('selected');
            
            // Enable check button
            document.getElementById('checkBtn').disabled = false;
            
            // Store selected answer
            window.selectedAnswer = optionIndex;
        }

        // Check answer
        function checkAnswer(quizIndex) {
            const quiz = content[currentLanguage].quizzes[quizIndex];
            const selectedAnswer = window.selectedAnswer;
            const resultDiv = document.getElementById('quizResult');
            
            if (selectedAnswer === undefined) {
                resultDiv.innerHTML = '<p style="color: #e74c3c;">ë‹µì„ ì„ íƒí•´ì£¼ì„¸ìš”!</p>';
                return;
            }
            
            const isCorrect = selectedAnswer === quiz.correctAnswer;
            const score = isCorrect ? 100 : 0;
            
            // Add to user progress
            userProgress.quizScores.push(score);
            
            // Show result
            if (isCorrect) {
                resultDiv.innerHTML = `
                    <div style="color: #27ae60; font-weight: bold; font-size: 1.2rem;">
                        âœ… ì •ë‹µì…ë‹ˆë‹¤! (ì ìˆ˜: ${score}ì )
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div style="color: #e74c3c; font-weight: bold; font-size: 1.2rem;">
                        âŒ í‹€ë ¸ìŠµë‹ˆë‹¤. ì •ë‹µ: ${quiz.options[quiz.correctAnswer]}
                    </div>
                `;
            }
            
            // Update progress
            updateProgress();
            updateStats();
            
            // Disable check button
            document.getElementById('checkBtn').disabled = true;
        }

        // Update progress
        function updateProgress() {
            const totalLessons = content[currentLanguage].lessons.length;
            const aiProgress = (userProgress.lessonsCompleted / totalLessons) * 100;
            const langProgress = Math.min(aiProgress + 20, 100); // Language progress based on AI progress
            const quizProgress = userProgress.quizScores.length > 0 ? 
                userProgress.quizScores.reduce((a, b) => a + b, 0) / userProgress.quizScores.length : 0;
            
            document.getElementById('aiProgress').style.width = aiProgress + '%';
            document.getElementById('langProgress').style.width = langProgress + '%';
            document.getElementById('quizProgress').style.width = quizProgress + '%';
            
            document.getElementById('aiProgressText').textContent = Math.round(aiProgress) + '% Complete';
            document.getElementById('langProgressText').textContent = Math.round(langProgress) + '% Complete';
            document.getElementById('quizProgressText').textContent = Math.round(quizProgress) + '% Average';
        }

        // Update statistics
        function updateStats() {
            document.getElementById('lessonsCompleted').textContent = userProgress.lessonsCompleted;
            document.getElementById('wordsLearned').textContent = userProgress.wordsLearned;
            document.getElementById('quizScore').textContent = userProgress.quizScores.length > 0 ? 
                Math.round(userProgress.quizScores.reduce((a, b) => a + b, 0) / userProgress.quizScores.length) + '%' : '0%';
            document.getElementById('studyTime').textContent = Math.floor(userProgress.studyTime / 60) + 'h ' + (userProgress.studyTime % 60) + 'm';
        }

        // Initialize the application
        window.onload = function() {
            // Load saved progress from localStorage
            const savedProgress = localStorage.getItem('aiLanguageProgress');
            if (savedProgress) {
                userProgress = JSON.parse(savedProgress);
            }
            
            // Debug: Check admin data on load
            console.log('=== DEBUG: Checking admin data on page load ===');
            console.log('Admin Lessons:', JSON.parse(localStorage.getItem('adminLessons') || '[]'));
            console.log('Admin Vocabulary:', JSON.parse(localStorage.getItem('adminVocabulary') || '[]'));
            console.log('Admin Quizzes:', JSON.parse(localStorage.getItem('adminQuizzes') || '[]'));
            console.log('=== END DEBUG ===');
            
            // Set default language
            selectLanguage('en');
        };

        // Save progress to localStorage
        function saveProgress() {
            localStorage.setItem('aiLanguageProgress', JSON.stringify(userProgress));
        }

        // Auto-save progress every 30 seconds
        setInterval(saveProgress, 30000);

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('lessonModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
    </script>
</body>
</html> 