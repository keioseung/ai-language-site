<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”§ AI Language Learning - Admin Panel</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: #333;
            min-height: 100vh;
            line-height: 1.6;
        }

        .admin-header {
            background: linear-gradient(90deg, #e74c3c, #c0392b, #e74c3c);
            color: white;
            text-align: center;
            padding: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .admin-header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .admin-header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .admin-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .admin-nav {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 1rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .nav-tabs {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .nav-tab {
            background: #ecf0f1;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .nav-tab.active {
            background: #3498db;
            color: white;
        }

        .nav-tab:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .admin-section {
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #ecf0f1;
        }

        .btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            margin: 0.5rem;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn-danger {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .btn-success {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }

        .btn-warning {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #2c3e50;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .content-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 12px;
            padding: 1.5rem;
            border-left: 4px solid #3498db;
            transition: all 0.3s ease;
        }

        .content-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .content-card h3 {
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }

        .content-meta {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .content-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            font-size: 1rem;
            opacity: 0.9;
        }

        .user-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .user-table th,
        .user-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #ecf0f1;
        }

        .user-table th {
            background: #3498db;
            color: white;
            font-weight: bold;
        }

        .user-table tr:hover {
            background: #f8f9fa;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #000;
        }

        .vocabulary-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 4px solid #3498db;
        }

        .vocabulary-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .quiz-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid #e74c3c;
        }

        .option-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.5rem;
        }

        .option-item input[type="radio"] {
            width: auto;
        }

        .option-item input[type="text"] {
            flex: 1;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem 2rem;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            z-index: 1001;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: #27ae60;
        }

        .notification.error {
            background: #e74c3c;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .content-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .nav-tabs {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="admin-header">
        <h1>ğŸ”§ AI Language Learning - Admin Panel</h1>
        <p>ë§¤ì¼ ìƒˆë¡œìš´ AI í•™ìŠµ ì½˜í…ì¸ ë¥¼ ê´€ë¦¬í•˜ê³  ì—…ë°ì´íŠ¸í•˜ì„¸ìš”</p>
    </div>

    <div class="admin-container">
        <!-- Navigation -->
        <div class="admin-nav">
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="showSection('dashboard')">ğŸ“Š ëŒ€ì‹œë³´ë“œ</button>
                <button class="nav-tab" onclick="showSection('lessons')">ğŸ“š ë ˆìŠ¨ ê´€ë¦¬</button>
                <button class="nav-tab" onclick="showSection('vocabulary')">ğŸ“– ì–´íœ˜ ê´€ë¦¬</button>
                <button class="nav-tab" onclick="showSection('quizzes')">ğŸ§  í€´ì¦ˆ ê´€ë¦¬</button>
                <button class="nav-tab" onclick="showSection('users')">ğŸ‘¥ ì‚¬ìš©ì ê´€ë¦¬</button>
                <button class="nav-tab" onclick="showSection('analytics')">ğŸ“ˆ ë¶„ì„</button>
            </div>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboard" class="admin-section">
            <div class="section-header">
                <h2>ğŸ“Š ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h2>
                <div>
                    <button class="btn btn-success" onclick="exportData()">ğŸ“¥ ë°ì´í„° ë‚´ë³´ë‚´ê¸°</button>
                    <button class="btn btn-warning" onclick="backupData()">ğŸ’¾ ë°±ì—…</button>
                </div>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalUsers">0</div>
                    <div class="stat-label">ì´ ì‚¬ìš©ì</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalLessons">0</div>
                    <div class="stat-label">ì´ ë ˆìŠ¨</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalVocabulary">0</div>
                    <div class="stat-label">ì´ ì–´íœ˜</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalQuizzes">0</div>
                    <div class="stat-label">ì´ í€´ì¦ˆ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="activeUsers">0</div>
                    <div class="stat-label">í™œì„± ì‚¬ìš©ì</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="avgScore">0%</div>
                    <div class="stat-label">í‰ê·  ì ìˆ˜</div>
                </div>
            </div>

            <div style="margin-top: 2rem;">
                <h3>ğŸ“… ì˜¤ëŠ˜ì˜ í•  ì¼</h3>
                <div class="content-grid">
                    <div class="content-card">
                        <h3>ğŸ†• ìƒˆ ë ˆìŠ¨ ì¶”ê°€</h3>
                        <p>ì˜¤ëŠ˜ ìƒˆë¡œìš´ AI ê°œë…ì— ëŒ€í•œ ë ˆìŠ¨ì„ ì¶”ê°€í•˜ì„¸ìš”.</p>
                        <button class="btn" onclick="showSection('lessons')">ë ˆìŠ¨ ì¶”ê°€í•˜ê¸°</button>
                    </div>
                    <div class="content-card">
                        <h3>ğŸ“– ì–´íœ˜ ì—…ë°ì´íŠ¸</h3>
                        <p>ìƒˆë¡œìš´ AI ìš©ì–´ì™€ ë‹¤êµ­ì–´ ë²ˆì—­ì„ ì¶”ê°€í•˜ì„¸ìš”.</p>
                        <button class="btn" onclick="showSection('vocabulary')">ì–´íœ˜ ê´€ë¦¬í•˜ê¸°</button>
                    </div>
                    <div class="content-card">
                        <h3>ğŸ§  í€´ì¦ˆ ìƒì„±</h3>
                        <p>í•™ìŠµìë“¤ì˜ ì´í•´ë„ë¥¼ í™•ì¸í•  í€´ì¦ˆë¥¼ ë§Œë“œì„¸ìš”.</p>
                        <button class="btn" onclick="showSection('quizzes')">í€´ì¦ˆ ë§Œë“¤ê¸°</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lessons Section -->
        <div id="lessons" class="admin-section" style="display: none;">
            <div class="section-header">
                <h2>ğŸ“š ë ˆìŠ¨ ê´€ë¦¬</h2>
                <button class="btn btn-success" onclick="openLessonModal()">â• ìƒˆ ë ˆìŠ¨ ì¶”ê°€</button>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>ì–¸ì–´ ì„ íƒ:</label>
                    <select id="lessonLanguageFilter">
                        <option value="all">ëª¨ë“  ì–¸ì–´</option>
                        <option value="en">English</option>
                        <option value="ko">í•œêµ­ì–´</option>
                        <option value="zh">ä¸­æ–‡</option>
                        <option value="ja">æ—¥æœ¬èª</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ê²€ìƒ‰:</label>
                    <input type="text" id="lessonSearch" placeholder="ë ˆìŠ¨ ì œëª©ìœ¼ë¡œ ê²€ìƒ‰...">
                </div>
            </div>
            
            <div class="content-grid" id="lessonsGrid">
                <!-- Lessons will be populated by JavaScript -->
            </div>
        </div>

        <!-- Vocabulary Section -->
        <div id="vocabulary" class="admin-section" style="display: none;">
            <div class="section-header">
                <h2>ğŸ“– ì–´íœ˜ ê´€ë¦¬</h2>
                <button class="btn btn-success" onclick="openVocabularyModal()">â• ìƒˆ ì–´íœ˜ ì¶”ê°€</button>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>ì–¸ì–´ ì„ íƒ:</label>
                    <select id="vocabLanguageFilter">
                        <option value="all">ëª¨ë“  ì–¸ì–´</option>
                        <option value="en">English</option>
                        <option value="ko">í•œêµ­ì–´</option>
                        <option value="zh">ä¸­æ–‡</option>
                        <option value="ja">æ—¥æœ¬èª</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ê²€ìƒ‰:</label>
                    <input type="text" id="vocabSearch" placeholder="ì–´íœ˜ë¡œ ê²€ìƒ‰...">
                </div>
            </div>
            
            <div class="content-grid" id="vocabularyGrid">
                <!-- Vocabulary will be populated by JavaScript -->
            </div>
        </div>

        <!-- Quizzes Section -->
        <div id="quizzes" class="admin-section" style="display: none;">
            <div class="section-header">
                <h2>ğŸ§  í€´ì¦ˆ ê´€ë¦¬</h2>
                <button class="btn btn-success" onclick="openQuizModal()">â• ìƒˆ í€´ì¦ˆ ì¶”ê°€</button>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>ì–¸ì–´ ì„ íƒ:</label>
                    <select id="quizLanguageFilter">
                        <option value="all">ëª¨ë“  ì–¸ì–´</option>
                        <option value="en">English</option>
                        <option value="ko">í•œêµ­ì–´</option>
                        <option value="zh">ä¸­æ–‡</option>
                        <option value="ja">æ—¥æœ¬èª</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ê²€ìƒ‰:</label>
                    <input type="text" id="quizSearch" placeholder="í€´ì¦ˆ ì§ˆë¬¸ìœ¼ë¡œ ê²€ìƒ‰...">
                </div>
            </div>
            
            <div class="content-grid" id="quizzesGrid">
                <!-- Quizzes will be populated by JavaScript -->
            </div>
        </div>

        <!-- Users Section -->
        <div id="users" class="admin-section" style="display: none;">
            <div class="section-header">
                <h2>ğŸ‘¥ ì‚¬ìš©ì ê´€ë¦¬</h2>
                <button class="btn btn-warning" onclick="exportUserData()">ğŸ“¥ ì‚¬ìš©ì ë°ì´í„° ë‚´ë³´ë‚´ê¸°</button>
            </div>
            
            <table class="user-table">
                <thead>
                    <tr>
                        <th>ì‚¬ìš©ì ID</th>
                        <th>ì„ í˜¸ ì–¸ì–´</th>
                        <th>ì™„ë£Œí•œ ë ˆìŠ¨</th>
                        <th>í•™ìŠµí•œ ì–´íœ˜</th>
                        <th>í‰ê·  ì ìˆ˜</th>
                        <th>í•™ìŠµ ì‹œê°„</th>
                        <th>ë§ˆì§€ë§‰ ì ‘ì†</th>
                        <th>ì•¡ì…˜</th>
                    </tr>
                </thead>
                <tbody id="usersTableBody">
                    <!-- Users will be populated by JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- Analytics Section -->
        <div id="analytics" class="admin-section" style="display: none;">
            <div class="section-header">
                <h2>ğŸ“ˆ í•™ìŠµ ë¶„ì„</h2>
                <button class="btn btn-success" onclick="generateReport()">ğŸ“Š ë¦¬í¬íŠ¸ ìƒì„±</button>
            </div>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="dailyActiveUsers">0</div>
                    <div class="stat-label">ì¼ì¼ í™œì„± ì‚¬ìš©ì</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="weeklyActiveUsers">0</div>
                    <div class="stat-label">ì£¼ê°„ í™œì„± ì‚¬ìš©ì</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completionRate">0%</div>
                    <div class="stat-label">ë ˆìŠ¨ ì™„ë£Œìœ¨</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="avgStudyTime">0ë¶„</div>
                    <div class="stat-label">í‰ê·  í•™ìŠµ ì‹œê°„</div>
                </div>
            </div>
            
            <div style="margin-top: 2rem;">
                <h3>ğŸ“Š ì–¸ì–´ë³„ í•™ìŠµ í˜„í™©</h3>
                <div class="content-grid" id="languageStats">
                    <!-- Language statistics will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Lesson Modal -->
    <div id="lessonModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeLessonModal()">&times;</span>
            <h2>ğŸ“š ìƒˆ ë ˆìŠ¨ ì¶”ê°€</h2>
            
            <form id="lessonForm">
                <div class="form-row">
                    <div class="form-group">
                        <label>ì–¸ì–´:</label>
                        <select id="lessonLanguage" required>
                            <option value="en">English</option>
                            <option value="ko">í•œêµ­ì–´</option>
                            <option value="zh">ä¸­æ–‡</option>
                            <option value="ja">æ—¥æœ¬èª</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ë ˆìŠ¨ ID:</label>
                        <input type="number" id="lessonId" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>ì œëª©:</label>
                    <input type="text" id="lessonTitle" required>
                </div>
                
                <div class="form-group">
                    <label>ì„¤ëª…:</label>
                    <textarea id="lessonDescription" rows="3" required></textarea>
                </div>
                
                <div class="form-group">
                    <label>ì½˜í…ì¸  (HTML):</label>
                    <textarea id="lessonContent" rows="10" required></textarea>
                </div>
                
                <div class="form-group">
                    <label>ë‚œì´ë„:</label>
                    <select id="lessonDifficulty">
                        <option value="beginner">ì´ˆê¸‰</option>
                        <option value="intermediate">ì¤‘ê¸‰</option>
                        <option value="advanced">ê³ ê¸‰</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>ì˜ˆìƒ í•™ìŠµ ì‹œê°„ (ë¶„):</label>
                    <input type="number" id="lessonDuration" min="5" max="120" value="15">
                </div>
                
                <div style="text-align: center; margin-top: 2rem;">
                    <button type="submit" class="btn btn-success">ğŸ’¾ ë ˆìŠ¨ ì €ì¥</button>
                    <button type="button" class="btn btn-danger" onclick="closeLessonModal()">âŒ ì·¨ì†Œ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Vocabulary Modal -->
    <div id="vocabularyModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeVocabularyModal()">&times;</span>
            <h2>ğŸ“– ìƒˆ ì–´íœ˜ ì¶”ê°€</h2>
            
            <form id="vocabularyForm">
                <div class="form-row">
                    <div class="form-group">
                        <label>ì–¸ì–´:</label>
                        <select id="vocabLanguage" required>
                            <option value="en">English</option>
                            <option value="ko">í•œêµ­ì–´</option>
                            <option value="zh">ä¸­æ–‡</option>
                            <option value="ja">æ—¥æœ¬èª</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ì¹´í…Œê³ ë¦¬:</label>
                        <select id="vocabCategory">
                            <option value="ai_basics">AI ê¸°ì´ˆ</option>
                            <option value="machine_learning">ë¨¸ì‹ ëŸ¬ë‹</option>
                            <option value="deep_learning">ë”¥ëŸ¬ë‹</option>
                            <option value="nlp">ìì—°ì–´ì²˜ë¦¬</option>
                            <option value="computer_vision">ì»´í“¨í„°ë¹„ì „</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>ìš©ì–´:</label>
                    <input type="text" id="vocabTerm" required>
                </div>
                
                <div class="form-group">
                    <label>ë‹¤êµ­ì–´ ë²ˆì—­:</label>
                    <textarea id="vocabTranslation" rows="3" placeholder="English / í•œêµ­ì–´ / ä¸­æ–‡ / æ—¥æœ¬èª" required></textarea>
                </div>
                
                <div class="form-group">
                    <label>ì •ì˜:</label>
                    <textarea id="vocabDefinition" rows="4"></textarea>
                </div>
                
                <div class="form-group">
                    <label>ì˜ˆë¬¸:</label>
                    <textarea id="vocabExample" rows="3"></textarea>
                </div>
                
                <div style="text-align: center; margin-top: 2rem;">
                    <button type="submit" class="btn btn-success">ğŸ’¾ ì–´íœ˜ ì €ì¥</button>
                    <button type="button" class="btn btn-danger" onclick="closeVocabularyModal()">âŒ ì·¨ì†Œ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Quiz Modal -->
    <div id="quizModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeQuizModal()">&times;</span>
            <h2>ğŸ§  ìƒˆ í€´ì¦ˆ ì¶”ê°€</h2>
            
            <form id="quizForm">
                <div class="form-row">
                    <div class="form-group">
                        <label>ì–¸ì–´:</label>
                        <select id="quizLanguage" required>
                            <option value="en">English</option>
                            <option value="ko">í•œêµ­ì–´</option>
                            <option value="zh">ä¸­æ–‡</option>
                            <option value="ja">æ—¥æœ¬èª</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ì¹´í…Œê³ ë¦¬:</label>
                        <select id="quizCategory">
                            <option value="ai_basics">AI ê¸°ì´ˆ</option>
                            <option value="machine_learning">ë¨¸ì‹ ëŸ¬ë‹</option>
                            <option value="deep_learning">ë”¥ëŸ¬ë‹</option>
                            <option value="nlp">ìì—°ì–´ì²˜ë¦¬</option>
                            <option value="computer_vision">ì»´í“¨í„°ë¹„ì „</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>ì§ˆë¬¸:</label>
                    <textarea id="quizQuestion" rows="3" required></textarea>
                </div>
                
                <div class="form-group">
                    <label>ë³´ê¸°:</label>
                    <div id="quizOptions">
                        <div class="option-item">
                            <input type="radio" name="correctAnswer" value="0" required>
                            <input type="text" placeholder="ë³´ê¸° 1" required>
                        </div>
                        <div class="option-item">
                            <input type="radio" name="correctAnswer" value="1">
                            <input type="text" placeholder="ë³´ê¸° 2" required>
                        </div>
                        <div class="option-item">
                            <input type="radio" name="correctAnswer" value="2">
                            <input type="text" placeholder="ë³´ê¸° 3" required>
                        </div>
                        <div class="option-item">
                            <input type="radio" name="correctAnswer" value="3">
                            <input type="text" placeholder="ë³´ê¸° 4" required>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>ì„¤ëª…:</label>
                    <textarea id="quizExplanation" rows="3" placeholder="ì •ë‹µì— ëŒ€í•œ ì„¤ëª…"></textarea>
                </div>
                
                <div style="text-align: center; margin-top: 2rem;">
                    <button type="submit" class="btn btn-success">ğŸ’¾ í€´ì¦ˆ ì €ì¥</button>
                    <button type="button" class="btn btn-danger" onclick="closeQuizModal()">âŒ ì·¨ì†Œ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification"></div>

    <script>
        // Global variables
        let currentSection = 'dashboard';
        let lessons = [];
        let vocabulary = [];
        let quizzes = [];
        let users = [];

        // Load data from localStorage
        function loadData() {
            lessons = JSON.parse(localStorage.getItem('adminLessons') || '[]');
            vocabulary = JSON.parse(localStorage.getItem('adminVocabulary') || '[]');
            quizzes = JSON.parse(localStorage.getItem('adminQuizzes') || '[]');
            users = JSON.parse(localStorage.getItem('adminUsers') || '[]');
            
            updateDashboard();
            loadLessons();
            loadVocabulary();
            loadQuizzes();
            loadUsers();
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('adminLessons', JSON.stringify(lessons));
            localStorage.setItem('adminVocabulary', JSON.stringify(vocabulary));
            localStorage.setItem('adminQuizzes', JSON.stringify(quizzes));
            localStorage.setItem('adminUsers', JSON.stringify(users));
        }

        // Show notification
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Navigation
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.admin-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Show selected section
            document.getElementById(sectionName).style.display = 'block';
            
            // Update active tab
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            currentSection = sectionName;
        }

        // Dashboard functions
        function updateDashboard() {
            document.getElementById('totalUsers').textContent = users.length;
            document.getElementById('totalLessons').textContent = lessons.length;
            document.getElementById('totalVocabulary').textContent = vocabulary.length;
            document.getElementById('totalQuizzes').textContent = quizzes.length;
            
            const activeUsers = users.filter(user => {
                const lastActive = new Date(user.lastActive);
                const now = new Date();
                return (now - lastActive) < (24 * 60 * 60 * 1000); // 24 hours
            }).length;
            
            document.getElementById('activeUsers').textContent = activeUsers;
            
            const avgScore = users.length > 0 ? 
                Math.round(users.reduce((sum, user) => sum + (user.avgScore || 0), 0) / users.length) : 0;
            document.getElementById('avgScore').textContent = avgScore + '%';
        }

        // Lesson management
        function loadLessons() {
            const grid = document.getElementById('lessonsGrid');
            grid.innerHTML = '';
            
            lessons.forEach((lesson, index) => {
                const card = document.createElement('div');
                card.className = 'content-card';
                card.innerHTML = `
                    <h3>${lesson.title}</h3>
                    <div class="content-meta">
                        ì–¸ì–´: ${getLanguageName(lesson.language)} | 
                        ID: ${lesson.id} | 
                        ë‚œì´ë„: ${getDifficultyName(lesson.difficulty)}
                    </div>
                    <p>${lesson.description}</p>
                    <div class="content-actions">
                        <button class="btn" onclick="editLesson(${index})">âœï¸ ìˆ˜ì •</button>
                        <button class="btn btn-danger" onclick="deleteLesson(${index})">ğŸ—‘ï¸ ì‚­ì œ</button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function openLessonModal() {
            document.getElementById('lessonModal').style.display = 'block';
        }

        function closeLessonModal() {
            document.getElementById('lessonModal').style.display = 'none';
            document.getElementById('lessonForm').reset();
        }

        // Vocabulary management
        function loadVocabulary() {
            const grid = document.getElementById('vocabularyGrid');
            grid.innerHTML = '';
            
            vocabulary.forEach((vocab, index) => {
                const card = document.createElement('div');
                card.className = 'content-card';
                card.innerHTML = `
                    <h3>${vocab.term}</h3>
                    <div class="content-meta">
                        ì–¸ì–´: ${getLanguageName(vocab.language)} | 
                        ì¹´í…Œê³ ë¦¬: ${getCategoryName(vocab.category)}
                    </div>
                    <p><strong>ë²ˆì—­:</strong> ${vocab.translation}</p>
                    <p><strong>ì •ì˜:</strong> ${vocab.definition || 'ì •ì˜ ì—†ìŒ'}</p>
                    <div class="content-actions">
                        <button class="btn" onclick="editVocabulary(${index})">âœï¸ ìˆ˜ì •</button>
                        <button class="btn btn-danger" onclick="deleteVocabulary(${index})">ğŸ—‘ï¸ ì‚­ì œ</button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function openVocabularyModal() {
            document.getElementById('vocabularyModal').style.display = 'block';
        }

        function closeVocabularyModal() {
            document.getElementById('vocabularyModal').style.display = 'none';
            document.getElementById('vocabularyForm').reset();
        }

        // Quiz management
        function loadQuizzes() {
            const grid = document.getElementById('quizzesGrid');
            grid.innerHTML = '';
            
            quizzes.forEach((quiz, index) => {
                const card = document.createElement('div');
                card.className = 'content-card';
                card.innerHTML = `
                    <h3>${quiz.question.substring(0, 50)}...</h3>
                    <div class="content-meta">
                        ì–¸ì–´: ${getLanguageName(quiz.language)} | 
                        ì¹´í…Œê³ ë¦¬: ${getCategoryName(quiz.category)}
                    </div>
                    <p><strong>ì •ë‹µ:</strong> ${quiz.options[quiz.correctAnswer]}</p>
                    <div class="content-actions">
                        <button class="btn" onclick="editQuiz(${index})">âœï¸ ìˆ˜ì •</button>
                        <button class="btn btn-danger" onclick="deleteQuiz(${index})">ğŸ—‘ï¸ ì‚­ì œ</button>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function openQuizModal() {
            document.getElementById('quizModal').style.display = 'block';
        }

        function closeQuizModal() {
            document.getElementById('quizModal').style.display = 'none';
            document.getElementById('quizForm').reset();
        }

        // User management
        function loadUsers() {
            const tbody = document.getElementById('usersTableBody');
            tbody.innerHTML = '';
            
            users.forEach((user, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${user.id}</td>
                    <td>${getLanguageName(user.preferredLanguage)}</td>
                    <td>${user.lessonsCompleted}</td>
                    <td>${user.wordsLearned}</td>
                    <td>${user.avgScore || 0}%</td>
                    <td>${Math.floor(user.studyTime / 60)}h ${user.studyTime % 60}m</td>
                    <td>${new Date(user.lastActive).toLocaleDateString()}</td>
                    <td>
                        <button class="btn" onclick="viewUserDetails(${index})">ğŸ‘ï¸ ìƒì„¸ë³´ê¸°</button>
                        <button class="btn btn-danger" onclick="deleteUser(${index})">ğŸ—‘ï¸ ì‚­ì œ</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // Utility functions
        function getLanguageName(code) {
            const languages = {
                'en': 'English',
                'ko': 'í•œêµ­ì–´',
                'zh': 'ä¸­æ–‡',
                'ja': 'æ—¥æœ¬èª'
            };
            return languages[code] || code;
        }

        function getDifficultyName(difficulty) {
            const difficulties = {
                'beginner': 'ì´ˆê¸‰',
                'intermediate': 'ì¤‘ê¸‰',
                'advanced': 'ê³ ê¸‰'
            };
            return difficulties[difficulty] || difficulty;
        }

        function getCategoryName(category) {
            const categories = {
                'ai_basics': 'AI ê¸°ì´ˆ',
                'machine_learning': 'ë¨¸ì‹ ëŸ¬ë‹',
                'deep_learning': 'ë”¥ëŸ¬ë‹',
                'nlp': 'ìì—°ì–´ì²˜ë¦¬',
                'computer_vision': 'ì»´í“¨í„°ë¹„ì „'
            };
            return categories[category] || category;
        }

        // Form submissions
        document.getElementById('lessonForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const lesson = {
                id: parseInt(document.getElementById('lessonId').value),
                language: document.getElementById('lessonLanguage').value,
                title: document.getElementById('lessonTitle').value,
                description: document.getElementById('lessonDescription').value,
                content: document.getElementById('lessonContent').value,
                difficulty: document.getElementById('lessonDifficulty').value,
                duration: parseInt(document.getElementById('lessonDuration').value),
                createdAt: new Date().toISOString()
            };
            
            lessons.push(lesson);
            saveData();
            loadLessons();
            updateDashboard();
            closeLessonModal();
            showNotification('ë ˆìŠ¨ì´ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!');
        });

        document.getElementById('vocabularyForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const vocab = {
                language: document.getElementById('vocabLanguage').value,
                category: document.getElementById('vocabCategory').value,
                term: document.getElementById('vocabTerm').value,
                translation: document.getElementById('vocabTranslation').value,
                definition: document.getElementById('vocabDefinition').value,
                example: document.getElementById('vocabExample').value,
                createdAt: new Date().toISOString()
            };
            
            vocabulary.push(vocab);
            saveData();
            loadVocabulary();
            updateDashboard();
            closeVocabularyModal();
            showNotification('ì–´íœ˜ê°€ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!');
        });

        document.getElementById('quizForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const options = Array.from(document.querySelectorAll('#quizOptions input[type="text"]'))
                .map(input => input.value);
            
            const quiz = {
                language: document.getElementById('quizLanguage').value,
                category: document.getElementById('quizCategory').value,
                question: document.getElementById('quizQuestion').value,
                options: options,
                correctAnswer: parseInt(document.querySelector('input[name="correctAnswer"]:checked').value),
                explanation: document.getElementById('quizExplanation').value,
                createdAt: new Date().toISOString()
            };
            
            quizzes.push(quiz);
            saveData();
            loadQuizzes();
            updateDashboard();
            closeQuizModal();
            showNotification('í€´ì¦ˆê°€ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!');
        });

        // Delete functions
        function deleteLesson(index) {
            if (confirm('ì •ë§ë¡œ ì´ ë ˆìŠ¨ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                lessons.splice(index, 1);
                saveData();
                loadLessons();
                updateDashboard();
                showNotification('ë ˆìŠ¨ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'error');
            }
        }

        function deleteVocabulary(index) {
            if (confirm('ì •ë§ë¡œ ì´ ì–´íœ˜ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                vocabulary.splice(index, 1);
                saveData();
                loadVocabulary();
                updateDashboard();
                showNotification('ì–´íœ˜ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'error');
            }
        }

        function deleteQuiz(index) {
            if (confirm('ì •ë§ë¡œ ì´ í€´ì¦ˆë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                quizzes.splice(index, 1);
                saveData();
                loadQuizzes();
                updateDashboard();
                showNotification('í€´ì¦ˆê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'error');
            }
        }

        function deleteUser(index) {
            if (confirm('ì •ë§ë¡œ ì´ ì‚¬ìš©ìë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                users.splice(index, 1);
                saveData();
                loadUsers();
                updateDashboard();
                showNotification('ì‚¬ìš©ìê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'error');
            }
        }

        // Export and backup functions
        function exportData() {
            const data = {
                lessons: lessons,
                vocabulary: vocabulary,
                quizzes: quizzes,
                users: users,
                exportedAt: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `ai_language_learning_data_${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            
            showNotification('ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë‚´ë³´ë‚´ì¡ŒìŠµë‹ˆë‹¤!');
        }

        function backupData() {
            saveData();
            showNotification('ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë°±ì—…ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        function exportUserData() {
            const blob = new Blob([JSON.stringify(users, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `user_data_${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            
            showNotification('ì‚¬ìš©ì ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë‚´ë³´ë‚´ì¡ŒìŠµë‹ˆë‹¤!');
        }

        function generateReport() {
            const report = {
                totalUsers: users.length,
                totalLessons: lessons.length,
                totalVocabulary: vocabulary.length,
                totalQuizzes: quizzes.length,
                averageScore: users.length > 0 ? 
                    Math.round(users.reduce((sum, user) => sum + (user.avgScore || 0), 0) / users.length) : 0,
                languageDistribution: {},
                generatedAt: new Date().toISOString()
            };
            
            // Language distribution
            users.forEach(user => {
                const lang = user.preferredLanguage;
                report.languageDistribution[lang] = (report.languageDistribution[lang] || 0) + 1;
            });
            
            const blob = new Blob([JSON.stringify(report, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `learning_report_${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            
            showNotification('ë¦¬í¬íŠ¸ê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // Close modals when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }

        // Initialize the admin panel
        window.onload = function() {
            loadData();
            
            // Add some sample data if empty
            if (lessons.length === 0) {
                lessons = [
                    {
                        id: 1,
                        language: 'en',
                        title: 'What is Artificial Intelligence?',
                        description: 'Learn the basics of AI and its applications',
                        content: '<h2>What is AI?</h2><p>AI is a branch of computer science...</p>',
                        difficulty: 'beginner',
                        duration: 15,
                        createdAt: new Date().toISOString()
                    }
                ];
                saveData();
            }
        };
    </script>
</body>
</html> 